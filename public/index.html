<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>File Upload & Download System</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<!-- Styles -->
<style>
body {
margin: 0;
font-family: 'Poppins', sans-serif;
background: #f4f7ff;
}

/* Navbar */
.navbar {
background: #4C6EF5;
padding: 15px 40px;
color: white;
display: flex;
justify-content: space-between;
align-items: center;
position: sticky;
top: 0;
z-index: 100;
}

.navbar h1 {
margin: 0;
font-size: 22px;
}

.nav-links a {
margin-left: 20px;
text-decoration: none;
color: white;
font-weight: 500;
}

/* Hero Section */
.hero {
text-align: center;
padding: 60px 20px;
background: linear-gradient(to right, #4C6EF5, #6A82FB);
color: white;
}

.hero h2 {
font-size: 36px;
margin-bottom: 10px;
}

.hero p {
font-size: 18px;
opacity: 0.9;
}

/* Card Style */
.card {
background: white;
padding: 25px;
margin: 40px auto;
width: 70%;
border-radius: 15px;
box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

input[type="file"] {
padding: 10px;
width: 100%;
border: 2px dashed #4C6EF5;
border-radius: 10px;
cursor: pointer;
}

button {
margin-top: 15px;
background: #4C6EF5;
border: none;
color: white;
padding: 12px 20px;
border-radius: 10px;
cursor: pointer;
font-size: 16px;
}

button:hover {
background: #3B5BDB;
}

/* Files List */
.file-list {
margin-top: 20px;
}

.file-item {
background: #eef2ff;
padding: 10px;
border-radius: 8px;
margin-bottom: 10px;
display: flex;
justify-content: space-between;
}

/* Footer */
footer {
text-align: center;
padding: 15px;
background: #4C6EF5;
color: white;
margin-top: 40px;
}
</style>
</head>

<body>

<!-- Navbar -->
<div class="navbar">
<h1>UploadDownloadSystem</h1>
<div class="nav-links">
<a href="#heroSection">Home</a>
<a href="#uploadSection">Upload</a>
<a href="#downloadSection">Downloads</a>
</div>
</div>

<!-- Hero Section -->
<div class="hero" id="heroSection">
<h2>Secure File Upload & Download</h2>
<p>Easily upload, store, and download your important documents.</p>
</div>

<!-- Upload Section -->
<div class="card" id="uploadSection">
<h3>Upload a File</h3>
<input type="file" id="fileInput">
<button onclick="uploadFile()">Upload</button>
<p id="uploadMsg" style="color: green; font-weight: 600;"></p>
</div>

<!-- Download Section -->
<div class="card" id="downloadSection">
<h3>Available Files</h3>
<div class="file-list" id="fileList"></div>
</div>

<footer>&copy; 2024 File Upload & Download System | BCA SIP Project</footer>

<script>
async function uploadFile() {
const fileInput = document.getElementById("fileInput");
if (fileInput.files.length === 0) {
alert("Select a file first!");
return;
}

let file = fileInput.files[0];
let formData = new FormData();
formData.append("file", file);

let response = await fetch("http://localhost:5000/upload", {
method: "POST",
body: formData,
});

let data = await response.json();
document.getElementById("uploadMsg").innerText = data.message;

loadFiles();
}

async function loadFiles() {
let response = await fetch("http://localhost:5000/files");
let files = await response.json();

let container = document.getElementById("fileList");
container.innerHTML = "";

files.forEach(file => {
container.innerHTML += `
<div class="file-item">
<span>${file}</span>
<a href="http://localhost:5000/download/${file}">
<button>Download</button>
</a>
</div>
`;
});
}

loadFiles();
</script>

</body>
</html>